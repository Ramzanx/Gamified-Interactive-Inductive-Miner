<!-- Countdown Display -->
<div *ngIf="countingDown" class="countdown-overlay">
  <div 
    class="countdown-number" 
    [class.countdown-animate]="animateCountdown">
    {{ countdown }}
  </div>
</div>

<div id="difficultyScreen" class="difficulty-screen">
  
  <h1 class="difficulty-title">Choose your difficulty</h1>

  <div class="banner-grid">

    <!-- Top row -->
    <div class="banner-row">

      <!-- Easy: Always available -->
      <div 
        class="banner" 
        (click)="difficulty = 'Easy'" 
        [class.selected]="difficulty === 'Easy'">
        <div class="caption">Easy</div>
        <div class="stars">
          <span *ngFor="let i of [0, 1, 2]">
            {{ i < 1 ? 'â˜…' : 'â˜†' }}
          </span>
        </div>
      </div>
    
      <!-- Medium: Requires level >= 3 -->
      <div 
        class="banner" 
        [class.locked]="userLevel! < 3"
        [class.selected]="difficulty === 'Medium'"
        (click)="handleDifficultyClick('Medium', 3)">
        
        <div class="caption">Medium</div>
        <div class="stars">
          <span *ngFor="let i of [0, 1, 2]">
            â˜…
          </span>
        </div>
        <div class="lock-overlay" *ngIf="userLevel! < 3">
          ðŸ”’ <br />
          Reach <br />
          Level 3
        </div>
      </div>
    
      <!-- Hard: Requires level >= 10 -->
      <div 
        class="banner" 
        [class.locked]="userLevel! < 10"
        [class.selected]="difficulty === 'Hard'"
        (click)="handleDifficultyClick('Hard', 10)">
        
        <div class="caption">Hard</div>
        <div class="stars">
          <span *ngFor="let i of [0, 1, 2]">
            â˜…
          </span>
        </div>
        <div class="lock-overlay" *ngIf="userLevel! < 10">
          ðŸ”’ <br />
          Reach <br />
          Level 10
        </div>
      </div>

    </div>
    <!-- Top row END -->
     
  <!-- Bottom row: Custom -->
    <div 
      class="banner custom-banner" 
      (click)="difficulty = 'Custom'" 
      [class.selected]="difficulty === 'Custom'">
      <div class="caption">Custom</div>
      <div class="custom-text">Upload and use your own Examples without pressure</div>
    </div>
  </div>

  <button 
    mat-raised-button 
    class="start-button"
    (click)="startCountdown()">
    {{ difficulty === 'Custom' ? 'Custom Mode' : 'Start Game' }}
  </button>

</div>

<div style="margin-top: 1rem;">
  <button mat-raised-button color="warn" (click)="stopGame()">Stop Game</button>
</div>